<!DOCTYPE html>

<html>
    <head>
        <title>Formation jQuery</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/bootstrap.min.css" rel="stylesheet"/>
        <link href="css/stage.css" rel="stylesheet"/>
    </head>
    <body>
        <div id="page">
            <!--    //--- a partir du fichier JSON on va creer le tableau--> 

            
            
        </div>
        <script src="js/lib/jquery-3.3.1.min.js"></script>
        <script src="js/lib/bootstrap.min.js" ></script>
        <script>
            //--- pour a acceder et lire un fichier JSON
            $.getJSON('js/contacts.json', function(json){
            //--- pour controler le fichier avec F12-> console
               //console.log(json); 
               //--- on construit le tableau 
                var table = $('<table/>').appendTo('#page')
                       .attr('class', 'table table-bordered table-hover table-striped');
                $('<caption style="caption-side: top; text-align: center">' + json.title + '</caption>').appendTo(table);
               
               var data = json.data;
               var thead = $('<thead/>').appendTo(table);
               var tr = $('<tr/>').appendTo(thead);
               //--- on boucle et on remplie
               var names = [];
               for (var propriete in data[0]) {
                   names.push(propriete);
                   $('<th>' + propriete + '</th>').appendTo(table);
           
               }
               var tbody = $('<tbody/>').appendTo(table);
               data.forEach(function(item){
                   var tr = $('<tr/>').appendTo(tbody);
                   names.forEach(function(propriete){
                        $('<td>' + item [propriete] + '</td>').appendTo(tr);
                   });
                   
               })
            });
        </script>
        <script src="js/bootstrap.menu.min.js" type="text/javascript"></script>
        <script>
           Menu.load('js/menu.json','#page','dark');
        </script>
    </body>
</html>
